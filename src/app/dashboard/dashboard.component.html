<nb-card id="stepper-card">
  <nb-card-header>Configure new server</nb-card-header>
  <nb-card-body>
    <nb-stepper #stepper linear="true">

      <nb-step [stepControl]="imageForm" label="Image">
        <form #imageForm="ngForm" class="step-container">
          <div class="input-group">
            <input type="text"
                   placeholder="Enter an image name"
                   class="form-control"
                   name="name"
                   required
                   nbInput
                   ngModel
                   #name="ngModel"
                   [status]="name.invalid ? 'danger' : 'basic'">
            <button nbButton nbStepperNext>next</button>
          </div>
        </form>
      </nb-step>

      <nb-step [stepControl]="configForm" label="More config">
        <form #configForm="ngForm" class="step-container">
          <div class="input-group">
            Currently there are no other configuration options
            <button nbButton nbStepperNext (click)="deployServer(name.value)">finish</button>
          </div>
        </form>
      </nb-step>

      <nb-step [stepControl]="configForm" [hidden]="true" label="More config">
        <div class="step-container">
          <h3>Wizard completed!</h3>
          <button nbButton (click)="stepper.reset()">Try again</button>
        </div>
      </nb-step>

    </nb-stepper>
  </nb-card-body>
</nb-card>

<nb-accordion multi>
  <nb-accordion-item *ngFor="let gameServer of gameServers">
    <nb-accordion-item-header>
      {{gameServer.id }}: {{gameServer.image}}
      <div class="button-group">
        <button class="status-button" nbButton [disabled]="!restartPossible(gameServer.id)" status="info" size="small"
                (click)="restartServerEvent($event, gameServer.id)" shape="round">
          <nb-icon pack="fas" icon="sync"></nb-icon>
        </button>
        <button class="status-button" nbButton [disabled]="!stopPossible(gameServer.id)" status="danger" size="small"
                (click)="stopServerEvent($event, gameServer.id)" shape="round">
          <nb-icon pack="fas" icon="stop"></nb-icon>
        </button>
        <button class="status-button" nbButton [disabled]="!startPossible(gameServer.id)" status="success" size="small"
                (click)="startServerEvent($event, gameServer.id)" shape="round">
          <nb-icon pack="fas" icon="play"></nb-icon>
        </button>
      </div>
      <nb-alert *ngIf="gameServer.status == statusEnum.ERROR" class="server-status" status="danger">Error</nb-alert>
      <nb-alert *ngIf="gameServer.status == statusEnum.RUNNING" class="server-status" status="success">Running
      </nb-alert>
      <nb-alert *ngIf="gameServer.status == statusEnum.RESTARTING" class="server-status" status="info">Restarting
      </nb-alert>
      <nb-alert *ngIf="gameServer.status == statusEnum.STOPPED" class="server-status" status="warning">Stopped
      </nb-alert>
    </nb-accordion-item-header>
    <nb-accordion-item-body>
      <nb-card>
        <nb-card-header>Interesting Values that make sense</nb-card-header>
        <nb-card-body>
          <div echarts [options]="options" class="echart"></div>
        </nb-card-body>
        This is a {{gameServer.image}} image
      </nb-card>

    </nb-accordion-item-body>
  </nb-accordion-item>
</nb-accordion>
